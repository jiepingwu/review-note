### Java内存模型

Java内存模型是为了屏蔽各种硬件和操作系统的内存访问差异，以实现Java程序在各种平台下都能达到一致的内存访问效果。

首先，我们可以先了解下操作系统的内存模型，由于 CPU 和内存IO的运行速度差距太大，所以OS中都加入了多级高速缓存来进行缓冲，将数据从主存中复制到高速缓存中，运算结束后再同步回主存，避免每次CPU都需要读写主存，提高运行速度。

与之类似的，Java内存模型中的实现，是主内存和多个工作内存，每个线程拥有自己的工作内存，同样的线程堆变量的读写都在工作内存中进行，而不是直接读写主内存。（这里的主内存可以和OS主内存类比，而工作内存可以和高速缓存类比）。

*就记这么多吧，更多的关于缓存一致性协议，缓存行的伪共享，happen-before语义，volatile的原理等内容，详细的在concurrent章节中记录吧。*

