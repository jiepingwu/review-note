### 电灯开关

这个问题是这样：有 n 盏电灯，最开始的时候都是关者的。现在要进行 n 轮操作。

1. 第一轮，把每一盏电灯的开关按一下。(全部打开)
2. 第二轮，把每两盏电灯的开关按一下。(2, 4, 6, ... 关闭)
3. 第三轮，把每三盏电灯的开关按一下。(3, 6, 9, ... 的开关，有的被关闭，比如3，有的被打开，比如6)
4. ...直到第n轮。

问你：现在给你 n 个电灯，经过 n 轮操作后，这些电灯有多少是亮的？



我们可以用一个 boolean数组表示这些电灯的开关情况，然后模拟这些操作过程，最后数一下就能得出结果。

但最好的解法是这样：

```java
public int bulbSwitch(int n) {
    return (int) Math.sqrt(n);
}
```

有意思吧，这是为什么呢？

我们可以发现，对于每一个 电灯 Di 来说，只要操作次数为 偶数次，那么Di就是关闭的(因为原来是关闭的)，反之，如果操作次数为奇数次，那么 Di 就是打开的。那么我们就要知道Di的操作次数是奇数还是偶数。

Di什么时候会被操作呢？

当 i 的 因数次时，就会被操作一次，比如 第6个电灯D6，当第 1, 2, 3, 6 轮时会被操作。而 第16个电灯D16，在 第 1, 2, 4, 8, 16 轮时会被操作。

我们发现 6 的次数为偶数，16的操作为奇数，这是因为 16 是完全平方数，16=4 * 4，所以因数个数为奇数。

也就是说：**完全平方数的因数个数为奇数。**

由于，我们从1开始，我们 **sqrt(n) 然后取整后** 得到的结果就是 **1~n 中完全平方数的个数**，这也就是代表了有多少个电灯是亮的。

```go
//go
func main() {
    for n := 1; n <= 12; n++ {
        fmt.Println("n=", n, "\t灯泡数\t", math.Sqrt(float64(n)))
    }
}
//print
n= 1     灯泡数  1
n= 2     灯泡数  1.4142135623730951
n= 3     灯泡数  1.7320508075688772
n= 4     灯泡数  2
n= 5     灯泡数  2.23606797749979
n= 6     灯泡数  2.449489742783178
n= 7     灯泡数  2.6457513110645907
n= 8     灯泡数  2.8284271247461903
n= 9     灯泡数  3
n= 10     灯泡数  3.1622776601683795
n= 11     灯泡数  3.3166247903554
n= 12     灯泡数  3.4641016151377544
```

